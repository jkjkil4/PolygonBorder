# PolygonBorder

#### 介绍
在GMS2（2.3以上版本）中可用的多边形限制框

#### 功能
以下列出了我实现的功能，但是你可以做更多拓展（如**示例4**的圆框）

- **判断点是否在框内**
- **得到点与多边形框最近的位置（用于在出框后限制回框内）**
- **对多边形内部区域进行遮罩（将显示范围限制在框内）**
- **多边形旋转**
- **多边形叠加（示例3和示例4中有涉及）**

#### 使用
- 创建框
    - oPolyBorder是框的对象  
    - 使用 **instance_create_depth或instance_create_layer** 创建一个框
    - 为了方便描述，后文称该框为 **poly**
- 编辑顶点
    - **poly.listVertex** 为存储多边形的顶点的列表
    - 例如 **ds_list_add(poly.listVertex, [0, 0], [50, 50], [-50, 50])**  
    即可向多边形添加 **(0, 0)**、**(50, 50)**、**(-50, 50)** 三个顶点
    - 其他操作如删除顶点等就不再赘述，对 **listVertex** 进行操作即可
    - *注：添加的顶点坐标都是相对与多边形原点而言的*
- 将点限制在框内
    - 为了将点限制在框内，首先要判断是否出框 
        - 使用 **poly.contains(x, y)** 即可判断点是否在框内
        - **poly.relativeContains(x, y)** 相同，不过传入的是相对多边形原点的坐标（较少用）
    - 如果出框的话，就需要得到离边框最近的位置
        - 使用 **poly.limit(x, y)** 即可得到 **(x, y)** 离边框最近的位置  
        返回值是一个长度为2的数组，下标**0、1**分别是结果的**x、y**
    - 所以最终的做法就是（如示例1）：
        ```javascript
        if(!poly.contains(x, y)) {
            var pos = poly.limit(x, y);
            x = pos[0];
            y = pos[1];
        }
        ```
